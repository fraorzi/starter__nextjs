# Project Development Guide

## Project Overview

This is a **Next.js 15** starter template built with **TypeScript**, **Tailwind CSS**, and modern React development tools. The project includes pre-configured UI components, form handling, animations, and development tools.

### Tech Stack

- **Framework**: Next.js 15 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS v4 with custom design system
- **Package Manager**: pnpm (required >=9)
- **Node Version**: >=20.11.x
- **Animation**: Framer Motion
- **Forms**: React Hook Form
- **UI Libraries**: Swiper, Sonner (toasts), usehooks-ts
- **Testing**: Jest with React Testing Library

### Available Scripts

- `pnpm dev` - Start development server with Turbopack
- `pnpm build` - Build for production
- `pnpm start` - Start production server
- `pnpm lint:fix` - Fix ESLint issues and format code
- `pnpm typecheck` - Run TypeScript type checking
- `pnpm test` - Run Jest tests
- `pnpm format` - Format code with Prettier

### Path Aliases

- `@/*` - Maps to `src/*`
- `~/*` - Maps to `public/*`

## Core Principles

### 1. ALWAYS Verify Before Implementing

- **READ** files completely before making changes
- **CHECK** existing imports vs actual usage
- **VERIFY** library dependencies are properly used
- **UNDERSTAND** the existing codebase patterns

### 2. Library Usage Verification

When working with libraries, ALWAYS:

- Import the library if using its features
- Use actual library features, not vanilla JS alternatives
- Check package.json to confirm library is installed
- Verify import statements match actual usage

### 3. Code Quality Checks

After EVERY change:

```bash
pnpm run lint:fix
pnpm run typecheck
```

- Fix ALL lint errors before proceeding
- Ensure TypeScript compiles without errors
- No warnings should remain

### 4. Client vs Server Components

- Interactive elements (onClick, useState, etc.) = Client Component (`'use client'`)
- Static content = Server Component (default)
- Keep Server Components when possible for performance

### 5. Dev Environment Structure

- Interactive examples go in `/src/app/(dev)/components/examples/`
- Dev-specific layouts in `/src/app/(dev)/layout.tsx`
- Don't pollute main app with dev-only features

## Library-Specific Rules

### Framer Motion

```tsx
// ✅ Correct
import { motion } from 'framer-motion';
<motion.div whileHover={{ scale: 1.1 }} />;

// ❌ Wrong
import { useState } from 'react';
// Using CSS transition instead of framer-motion
```

### Swiper

```tsx
// ✅ Correct
import { Swiper, SwiperSlide } from 'swiper/react';
import { Navigation, Pagination } from 'swiper/modules';
import 'swiper/css';
import 'swiper/css/navigation';
import 'swiper/css/pagination';

// ❌ Wrong
// Missing CSS imports or modules
```

### Sonner (Toast)

```tsx
// ✅ Correct - Setup Toaster in layout
import { Toaster } from 'sonner';
// And use toast in components
import { toast } from 'sonner';
toast.success('Message');

// ❌ Wrong
// Using alert() instead of toast
```

### React Hook Form

- Already properly implemented across form components
- Use existing patterns in Input, TextArea, Checkbox components

### usehooks-ts

- Currently only mentioned in text
- Create actual working examples when implementing

## File Organization

### Components Structure

```
src/components/
├── UI/              # Reusable UI components
├── layout/          # Layout components (Header, Footer)
├── features/        # Feature-specific components
└── ...

src/app/(dev)/       # Development/preview components
├── components/
│   └── examples/    # Library usage examples
└── layout.tsx       # Dev-specific layout
```

### Import Order (ESLint enforced)

1. External libraries (react, next, framer-motion, swiper, etc.)
2. CSS imports ('swiper/css', styles)
3. Internal utilities (@/lib, @/hooks)
4. Components (@/components)
5. Constants (@/constant)
6. Types (@/types)
7. Relative imports (./component)

## Error Prevention Checklist

Before submitting code:

- [ ] All imports are actually used
- [ ] All used features are properly imported
- [ ] Library features use the actual library, not alternatives
- [ ] Client/Server component boundaries are correct
- [ ] Lint and TypeScript pass without errors
- [ ] Interactive components are in the right directory

## SEO and Configuration

### Files to Update for New Projects

- `src/constant/seo.ts` - Update metadata placeholders
- `src/components/layout/Footer/Copyright.tsx` - Company name
- `.env.local` - Copy from `.env.example` and fill values

### Universal Placeholders Used

- "Your Project Name" - Replace with actual project name
- "Your Name" - Replace with actual author
- "@your-handle" - Replace with actual social media
- "Your Company Name" - Replace with actual company

## Git Workflow

### Starting Fresh Project

```bash
# Remove git history
rm -rf .git

# Initialize new repo
git init
git add .
git commit -m "chore: initial commit"

# Connect to your repo
git remote add origin YOUR_REPO_URL
git push -u origin master
```

## Performance Best Practices

- Use `next/image` for all images (NextImage component wrapper)
- Server Components by default for better performance
- Use `'use client'` only when needed (interactions, hooks)
- Lazy load heavy components with dynamic imports
- Optimize bundle size

## Styling Guidelines

### Tailwind CSS Setup

- Custom design system with extended colors and fonts
- Use `clsxm()` from `@/lib/clsxm` for proper class merging
- Follow existing component patterns for consistency

### Component Styling Pattern

```typescript
import clsxm from '@/lib/clsxm';

const Component = ({ className, variant = 'default' }) => (
  <div className={clsxm(
    'base-classes',
    variant === 'primary' && 'variant-classes',
    className
  )} />
);
```

## Environment Configuration

### Required Environment Variables

- `NEXT_PUBLIC_SITE_DOMAIN` - Site domain (default: http://localhost:3000)
- `NEXT_PUBLIC_BASE_PATH` - Base path for deployment
- `NEXT_PUBLIC_GTM` - Google Tag Manager ID
- `NEXT_PUBLIC_ROBOTS` - Robots meta tag (false for development)

### Development Tools

- `NEXT_PUBLIC_SHOW_LOGGER` - Enable frontend logging (development only)

## Testing

### Jest Configuration

- Uses `@testing-library/react` and `@testing-library/jest-dom`
- SVG mocking configured for components
- Path aliases mapped for tests

### Development Testing

- Run dev server: `pnpm dev`
- Check component examples at: `/components` route
- Verify all library examples work correctly
- Test forms at: `/sandbox/forms` route

## Commit Message Convention

Uses conventional commits with types:

- `feat:` - New features
- `fix:` - Bug fixes
- `docs:` - Documentation
- `chore:` - Maintenance tasks
- `style:` - Code style changes
- `refactor:` - Code refactoring
- `test:` - Test changes

## Deployment Preparation

### Before Production

1. Update SEO metadata in `src/constant/seo.ts`
2. Set proper environment variables
3. Test build: `pnpm build`
4. Verify all library examples work
5. Run full test suite: `pnpm test`

### Fresh Project Setup

1. Update project metadata and branding
2. Configure environment variables
3. Remove or customize dev examples
4. Set up deployment pipeline
